if RUBY_PLATFORM != 'java' && RUBY_VERSION < '2.4.0'
  suite_condition("Yajl not supported for JRuby or 2.4") do
    RUBY_PLATFORM != 'java' && RUBY_VERSION < '2.4.0'
  end
end

if RUBY_VERSION >= '2.4.0'
  gemfile <<-RB
    gem 'rack'
    gem 'yajl-ruby', '~> 1.4.0', require: ['yajl', 'yajl/json_gem']
    #{ruby3_gem_webrick}
  RB
else
  gemfile <<-RB
    gem 'rack'
    gem 'yajl-ruby', '~> 1.3.0', require: ['yajl', 'yajl/json_gem']
    #per rubygems.org 1.2.1 requires >= ruby v1.8.6
  RB

  gemfile <<-RB
    gem 'rack'
    gem 'yajl-ruby', '~> 1.2.1' #per rubygems.org 1.2.1 requires >= ruby v1.8.6
  RBi didnt

  gemfile <<-RB
    gem 'rack'
    gem 'yajl-ruby', '~> 1.1.0' #per rubygems.org 1.1.0 requires >= ruby v1.8.6
  RB
end

# vim: ft=ruby
