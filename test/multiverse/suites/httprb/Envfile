suite_condition("http.rb is only supported for versions >= 2.0.0") do
  RUBY_VERSION >= '2.0.0'
end

gemfile <<-RB
  gem 'http' # latest version
  gem 'public_suffix', '< 3.0.0' if RUBY_VERSION < "2.1.0"
  gem 'rack'
RB

HTTPRB_VERSIONS = %w(4.2.0
                     3.0.0
                     2.2.2
                     2.1.0
                     2.0.3
                     1.0.4
                     0.9.9)

HTTPRB_VERSIONS.each do |httprb_version|
  gemfile <<-RB
    gem 'http', '~> #{httprb_version}'
    gem 'public_suffix', '< 3.0.0' if RUBY_VERSION < "2.1.0"
    gem 'rack'
  RB
end

# vim: ft=ruby
